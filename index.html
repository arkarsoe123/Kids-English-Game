<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kids English Learning</title>
    <style>
        body { font-family: sans-serif; background-color: #e0f7fa; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .game-container { background: white; padding: 20px; border-radius: 20px; text-align: center; width: 320px; border: 5px solid #FFB74D; position: relative; }
        .image-box { width: 150px; height: 150px; margin: 10px auto; border: 2px solid #ddd; border-radius: 15px; display: flex; align-items: center; justify-content: center; overflow: hidden; }
        .image-box img { max-width: 100%; height: auto; }
        .options { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px; }
        button { padding: 12px; font-size: 16px; border-radius: 10px; border: 2px solid #81C784; background: white; cursor: pointer; }
        #start-screen { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: white; display: flex; flex-direction: column; justify-content: center; align-items: center; border-radius: 20px; z-index: 10; }
        .btn-start { background: #FF5722; color: white; padding: 15px 30px; border: none; font-size: 20px; }
    </style>
</head>
<body>

<div class="game-container">
    <div id="start-screen">
        <h2>á€¡á€„á€ºá€¹á€‚á€œá€­á€•á€ºá€…á€¬ á€á€„á€ºá€€á€¼á€™á€šá€º!</h2>
        <button class="btn-start" onclick="startGame()">á€‚á€­á€™á€ºá€¸á€…á€™á€Šá€º</button>
    </div>

    <h1>ğŸŒŸ English Fun ğŸŒŸ</h1>
    <div id="score-text">Stars: 0</div>
    
    <div class="image-box">
        <img id="main-img" src="" alt="Question">
    </div>
    
    <h3 id="question-text">á€’á€« á€˜á€¬á€•á€¯á€¶á€œá€²?</h3>
    
    <div class="options" id="opt-container"></div>
    <div id="msg" style="margin-top: 15px; font-weight: bold;"></div>
</div>

<script>
    const questions = [
        { q: "á€’á€« á€˜á€¬á€¡á€›á€±á€¬á€„á€ºá€œá€²?", img: "https://img.icons8.com/color/144/filled-circle.png", answers: [{a:"Red", c:true}, {a:"Blue", c:false}, {a:"Green", c:false}, {a:"Yellow", c:false}], color: "red" },
        { q: "á€’á€« á€˜á€¬á€á€®á€¸á€œá€²?", img: "https://img.icons8.com/color/144/apple.png", answers: [{a:"Apple", c:true}, {a:"Mango", c:false}, {a:"Orange", c:false}, {a:"Grape", c:false}] },
        { q: "á€’á€« á€˜á€¬á€€á€±á€¬á€„á€ºá€œá€±á€¸á€œá€²?", img: "https://img.icons8.com/color/144/dog.png", answers: [{a:"Cat", c:false}, {a:"Dog", c:true}, {a:"Rabbit", c:false}, {a:"Bird", c:false}] }
    ];

    let currentIdx = 0;
    let score = 0;

    function startGame() {
        document.getElementById('start-screen').style.display = 'none';
        // iOS/Android á€¡á€á€¶á€–á€½á€„á€·á€ºá€›á€”á€º dummy sound á€…á€–á€½á€„á€·á€ºá€á€¼á€„á€ºá€¸
        speak(""); 
        loadQ();
    }

    function speak(text) {
        const synth = window.speechSynthesis;
        const utter = new SpeechSynthesisUtterance(text);
        utter.lang = 'en-US';
        utter.rate = 0.8;
        synth.speak(utter);
    }

    function loadQ() {
        if(currentIdx >= questions.length) {
            document.getElementById('game-container').innerHTML = "<h2>á€•á€¼á€®á€¸á€á€½á€¬á€¸á€•á€«á€•á€¼á€®! á€¡á€™á€¾á€á€º: " + score + "</h2>";
            return;
        }
        
        const qData = questions[currentIdx];
        const imgElement = document.getElementById('main-img');
        
        // á€¡á€›á€±á€¬á€„á€ºá€™á€±á€¸á€á€½á€”á€ºá€¸á€¡á€á€½á€€á€º á€•á€¯á€¶á€€á€­á€¯ á€¡á€›á€±á€¬á€„á€ºá€•á€¼á€±á€¬á€„á€ºá€¸á€•á€±á€¸á€á€¼á€„á€ºá€¸
        if(qData.color) imgElement.style.filter = `drop-shadow(0 0 0 ${qData.color}) brightness(0.5) sepia(1) hue-rotate(-50deg) saturate(5)`;
        else imgElement.style.filter = "none";

        imgElement.src = qData.img;
        document.getElementById('question-text').textContent = qData.q;
        
        const container = document.getElementById('opt-container');
        container.innerHTML = "";
        
        qData.answers.forEach(ans => {
            const btn = document.createElement('button');
            btn.textContent = ans.a;
            btn.onclick = () => {
                speak(ans.a); // á€á€œá€¯á€á€ºá€”á€¾á€­á€•á€ºá€á€¬á€”á€²á€· á€¡á€á€¶á€‘á€½á€€á€ºá€™á€šá€º
                if(ans.c) {
                    score++;
                    document.getElementById('score-text').textContent = "Stars: " + score;
                    document.getElementById('msg').textContent = "âœ… á€™á€¾á€”á€ºá€•á€«á€á€šá€º!";
                    currentIdx++;
                    setTimeout(loadQ, 1500);
                } else {
                    document.getElementById('msg').textContent = "âŒ á€™á€¾á€¬á€¸á€á€½á€¬á€¸á€á€šá€ºáŠ á€•á€¼á€”á€ºá€€á€¼á€­á€¯á€¸á€…á€¬á€¸á€•á€«";
                }
            };
            container.appendChild(btn);
        });
    }
</script>

</body>
</html>
